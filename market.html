<!-- market.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Market - Customs Market</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-gray-800">
  <header class="bg-black text-white p-4 flex justify-between items-center">
    <h1 class="text-xl font-bold">Customs Market</h1>
    <nav class="space-x-4">
      <a href="index.html" class="hover:underline">Home</a>
      <a href="market.html" class="hover:underline font-bold">Market</a>
      <a href="sell.html" class="hover:underline">Sell</a>
    </nav>
  </header>

  <section class="p-6">
    <h2 class="text-2xl font-bold mb-4">Marketplace</h2>
    <div id="productContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
  </section>

  <script src="products.js"></script>
  <script>
    const stored = localStorage.getItem("customsProducts");
    const storedProducts = stored ? JSON.parse(stored) : [];
    const allProducts = [...products, ...storedProducts];

    const container = document.getElementById("productContainer");

    allProducts.forEach(p => {
      const card = document.createElement("div");
      card.className = "border rounded-xl p-4 shadow hover:shadow-md transition";
      card.innerHTML = `
        <img src="${p.image}" alt="${p.name}" class="rounded mb-2">
        <h3 class="font-semibold text-lg">${p.name}</h3>
        <p class="text-sm text-gray-600">By: ${p.seller}</p>
        <p class="font-bold mt-1">${p.price}</p>
        <a href="product.html?id=${p.id}" class="text-blue-600 hover:underline text-sm mt-2 inline-block">View Product</a>
      `;
      container.appendChild(card);
    });
  </script>
</body>
</html>
